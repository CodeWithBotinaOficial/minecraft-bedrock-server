# ============================================================================
# MINECRAFT BEDROCK SERVER - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and customize the values
# DO NOT commit .env to Git (it's in .gitignore)
#
# This is the ONLY file you need to modify. The docker-compose.yml
# reads all configuration from here.
# ============================================================================

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================

# Docker image tag for Minecraft Bedrock server
# Options: latest, specific version tag
DOCKER_IMAGE_TAG=latest

# Container name (must be unique on your system)
CONTAINER_NAME=minecraft-bedrock-server

# Hostname inside the container
HOSTNAME=bedrock-server

# Restart policy
# Options: no, always, unless-stopped, on-failure
RESTART_POLICY=unless-stopped

# ============================================================================
# MINECRAFT SERVER - BASIC SETTINGS
# ============================================================================

# Minecraft Bedrock Server Version
# CRITICAL: Must match your client version for compatibility
# Set to "LATEST" for auto-update or specific version like "1.21.131.1"
MINECRAFT_VERSION=1.21.131.1

# Server display name (visible to players)
SERVER_NAME=My Bedrock Server

# Server ports (default: 19132 for IPv4, 19133 for IPv6)
SERVER_PORT=19132
SERVER_PORTV6=19133

# Host ports to expose (change if 19132 is already in use)
HOST_PORT=19132
HOST_PORT_V6=19133

# ============================================================================
# WORLD CONFIGURATION
# ============================================================================

# World name to load
# IMPORTANT: This must exactly match your world folder name in ./worlds/
# If using a new world, set to any name (e.g., "Bedrock level")
# If importing custom world, set to your world folder name (e.g., "MyWorld")
LEVEL_NAME=Bedrock level

# World seed (leave empty to use existing world's seed or generate random)
# Example: 123456789
LEVEL_SEED=

# Level type
# Options: DEFAULT, FLAT, LEGACY
LEVEL_TYPE=DEFAULT

# Import world from specified path (optional)
WORLD_IMPORT=/worlds/ExampleWorld

# Force re-download of the world on startup
FORCE_REDOWNLOAD=false

# Game mode
# Options: survival, creative, adventure
GAMEMODE=survival

# Difficulty
# Options: peaceful, easy, normal, hard
DIFFICULTY=normal

# ============================================================================
# PLAYER SETTINGS
# ============================================================================

# Maximum players allowed on the server
MAX_PLAYERS=10

# Allow cheats/commands
# Options: true, false
ALLOW_CHEATS=false

# View distance in chunks (how far players can see)
# Range: 5-32, Recommended: 10-12 for performance
VIEW_DISTANCE=12

# Tick distance (simulation distance in chunks)
# Range: 4-12, Recommended: 4-6 for performance
TICK_DISTANCE=4

# Player idle timeout in minutes (0 = disabled)
PLAYER_IDLE_TIMEOUT=30

# ============================================================================
# AUTHENTICATION & PERMISSIONS
# ============================================================================

# Require Xbox Live authentication
# Options: true, false
# Set to false for LAN-only servers or offline play
ONLINE_MODE=true

# Enable allowlist (whitelist)
# Options: true, false
# When true, only players in allowlist.json can join
ALLOW_LIST=false

# Default permission level for new players
# Options: visitor, member, operator
DEFAULT_PLAYER_PERMISSION_LEVEL=member

# Require texture pack
# Options: true, false
TEXTUREPACK_REQUIRED=false

# ============================================================================
# PERFORMANCE SETTINGS
# ============================================================================

# Server authoritative movement
# Options: client-auth, server-auth, server-auth-with-rewind
# Recommended: server-auth (prevents movement hacks)
SERVER_AUTHORITATIVE_MOVEMENT=server-auth

# Server authoritative block breaking
# Options: true, false
SERVER_AUTHORITATIVE_BLOCK_BREAKING=false

# Maximum threads (0 = auto-detect based on CPU cores)
MAX_THREADS=8

# Network compression threshold
# Range: 0-65535, 0 = compress everything, higher = less compression
COMPRESSION_THRESHOLD=1

# Correct player movement
# Options: true, false
CORRECT_PLAYER_MOVEMENT=false

# ============================================================================
# LOGGING & DEBUGGING
# ============================================================================

# Enable rolling logs (automatic log rotation)
# Options: true, false
ENABLE_ROLLING_LOGS=true

# Log level
# Options: INFO, WARN, ERROR, VERBOSE
LOG_LEVEL=INFO

# Content log file enabled
# Options: true, false
CONTENT_LOG_FILE_ENABLED=false

# Docker logging configuration
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# ============================================================================
# PATHS - VOLUME MOUNTS
# ============================================================================

# Path to server data directory (worlds, configs, logs)
DATA_PATH=./data

# Path to custom worlds directory
WORLDS_PATH=./worlds

# Path to backups directory
BACKUPS_PATH=./backups

# Path to resource packs (optional)
RESOURCE_PACKS_PATH=./resource_packs

# Path to behavior packs (optional)
BEHAVIOR_PACKS_PATH=./behavior_packs

# ============================================================================
# RESOURCE LIMITS
# ============================================================================

# CPU limits
# Maximum CPU cores the server can use
CPU_LIMIT=4.0

# Guaranteed CPU cores (reserved)
CPU_RESERVATION=2.0

# Memory limits
# Maximum RAM the server can use (G = Gigabytes, M = Megabytes)
MEMORY_LIMIT=4G

# Guaranteed RAM (reserved)
MEMORY_RESERVATION=2G

# ============================================================================
# HEALTH CHECK CONFIGURATION
# ============================================================================

# Interval between health checks
HEALTHCHECK_INTERVAL=30s

# Timeout for each health check
HEALTHCHECK_TIMEOUT=10s

# Number of retries before marking as unhealthy
HEALTHCHECK_RETRIES=3

# Grace period before starting health checks
HEALTHCHECK_START_PERIOD=60s

# ============================================================================
# PLAYIT.GG TUNNEL CONFIGURATION
# ============================================================================

# Playit.gg Docker image
# Official images available:
# - playitcloud/playit:latest (official, recommended)
# - pepaondrugs/playitgg-docker:latest (community, 50K+ pulls)
# - wisdomsky/playit-docker-web:latest (includes Web UI)
PLAYIT_IMAGE=playitcloud/playit:latest

# Playit container name
PLAYIT_CONTAINER_NAME=playit-tunnel

# Playit hostname
PLAYIT_HOSTNAME=playit-tunnel

# Path to Playit configuration
# The official image stores config at /etc/playit/ inside the container
PLAYIT_CONFIG_PATH=./playit

# Playit secret key (leave empty for first run)
# After claiming your tunnel via the web interface, you can set this here
# to persist your configuration across container restarts
# Format: SECRET_KEY=your-secret-key-here
PLAYIT_SECRET=

# Playit dependency condition
# Options: service_started, service_healthy
PLAYIT_DEPENDS_CONDITION=service_healthy

# Playit logging
PLAYIT_LOG_MAX_SIZE=5m
PLAYIT_LOG_MAX_FILES=2

# ============================================================================
# DOCKER VOLUMES (Named Volumes)
# ============================================================================

# Volume names (only used if switching from bind mounts to named volumes)
VOLUME_DATA_NAME=minecraft-bedrock-data
VOLUME_BACKUPS_NAME=minecraft-bedrock-backups
VOLUME_PLAYIT_NAME=minecraft-playit-config

# ============================================================================
# DOCKER NETWORK CONFIGURATION
# ============================================================================

# Network name
NETWORK_NAME=minecraft-bedrock-net

# Network driver
# Options: bridge, host, overlay, macvlan
NETWORK_DRIVER=bridge

# Network subnet (CIDR notation)
NETWORK_SUBNET=172.20.0.0/16

# Network gateway
NETWORK_GATEWAY=172.20.0.1

# ============================================================================
# TIMEZONE
# ============================================================================

# Server timezone (for logs and timestamps)
# Examples: America/New_York, Europe/London, America/Bogota, UTC
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TIMEZONE=America/Bogota

# ============================================================================
# ADVANCED SETTINGS (OPTIONAL)
# ============================================================================
# Most users don't need to modify these

# Additional Java options (if needed)
# JAVA_OPTS=-Xmx2G -Xms2G

# Enable debug mode
# DEBUG=true

# Custom server properties (advanced)
# Add any additional server.properties values here
# They will be applied after container startup
